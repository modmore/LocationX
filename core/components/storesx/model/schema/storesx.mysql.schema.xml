<?xml version="1.0" encoding="UTF-8"?>
<model package="storesx" baseClass="xPDOObject" platform="mysql" defaultEngine="MyISAM" version="1.1">
    <object class="sxStore" table="storesx_store" extends="xPDOSimpleObject">
        <field key="name" dbtype="varchar" precision="150" phptype="string" null="false" default="Unnamed Store" />
        <field key="link" dbtype="varchar" precision="150" phptype="string" null="true" />
        <field key="category" dbtype="int" precision="10" phptype="integer" default="0" />

        <!-- Address related fields -->
        <field key="address1" dbtype="varchar" precision="150" phptype="string" null="true" />
        <field key="address2" dbtype="varchar" precision="150" phptype="string" null="true" />
        <field key="city" dbtype="varchar" precision="75" phptype="string" null="true" />
        <field key="state" dbtype="varchar" precision="50" phptype="string" null="true" />
        <field key="zip" dbtype="varchar" precision="25" phptype="string" null="true" />
        <field key="country" dbtype="varchar" precision="50" phptype="string" null="true" />
        <field key="latitude" dbtype="varchar" precision="25" phptype="string" null="true" />
        <field key="longitude" dbtype="varchar" precision="25" phptype="string" null="true" />

        <!-- Flags -->
        <field key="active" dbtype="tinyint" precision="1" phptype="boolean" default="0" />

        <!-- Google Maps stuff -->
        <field key="gmap_marker" dbtype="int" precision="10" phptype="integer" default="0" />

        <aggregate alias="Marker" class="sxMarker" local="gmap_marker" foreign="id" owner="foreign" cardinality="one" />
        <aggregate alias="Category" class="sxCategory" local="category" foreign="id" owner="foreign" cardinality="one" />
    </object>

    <object class="sxMarker" table="storesx_marker" extends="xPDOSimpleObject">
        <field key="name" dbtype="varchar" precision="150" phptype="string" null="false" default="Unnamed Marker" />
        <field key="url" dbtype="varchar" precision="150" phptype="string" null="false" default="" />
        <!-- for usage with sprites -->
        <field key="size" dbtype="varchar" precision="20" phptype="string" null="false" default="" />
        <field key="origin" dbtype="varchar" precision="20" phptype="string" null="false" default="" />

        <!-- doesn't show a shadow -->
        <field key="flat" dbtype="tinyint" precision="1" phptype="boolean" default="0" />
    </object>

    <object class="sxCategory" table="storesx_category" extends="xPDOSimpleObject">
        <field key="name" dbtype="varchar" precision="150" phptype="string" null="false" default="Unnamed Category" />

        <field key="visible" dbtype="tinyint" precision="1" phptype="boolean" default="1" />
        <aggregate alias="Stores" class="sxStore" local="id" foreign="category" owner="local" cardinality="many" />
    </object>
</model>

